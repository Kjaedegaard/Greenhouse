cmake_minimum_required(VERSION 3.17)

project(greenhouse_control)

set(BUILD_SHARED_LIBS FALSE CACHE BOOL "Setting SFML to build static libraries" FORCE)
set(SFML_USE_STATIC_STD_LIBS TRUE CACHE BOOL "Use static versions of the C++ std libs" FORCE)
add_subdirectory(libs/SFML)

set(IMGUI_SFML_FIND_SFML OFF CACHE BOOL "Do not use find_package to find SFML." FORCE)
set(IMGUI_DIR ${PROJECT_SOURCE_DIR}/libs/imgui CACHE PATH "imgui top-level directory." FORCE)
set(IMGUI_SFML_IMGUI_DEMO ON CACHE BOOL "make the demo window" FORCE)
add_subdirectory(libs/imgui-sfml)

include_directories(include
                    libs/SFML/include
                    /*libs/imgui
                    libs/imgui-sfml
                    res/fonts)

add_executable(greenhouse src/greenhouse.cpp src/regulator.cpp src/sensor_sim.cpp src/plant.cpp src/diagram.cpp src/tomato_plant.cpp src/tomato.cpp src/tomato_branch.cpp src/greenhouse_graphics.cpp src/conditions.cpp src/actuators.cpp src/actuator.cpp)

target_link_libraries(greenhouse sfml-graphics sfml-system ImGui-SFML::ImGui-SFML)